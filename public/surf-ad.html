<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Telegram WebApp Example</title>
    <script src="https://web.telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <button id="openPageBtn" class="btn">Open New Page</button>

    <script type="text/javascript">
        // این تابع برای باز کردن یک صفحه جدید و فعال کردن دکمه برگشت است
        document.getElementById("openPageBtn").addEventListener("click", function() {
            // باز کردن صفحه جدید
            window.open("https://example.com", "_blank");

            // فعال کردن دکمه برگشت تلگرام
            window.Telegram.WebApp.BackButton.show();

            // افزودن رویداد برای برگشت به صفحه قبلی
            window.Telegram.WebApp.BackButton.onClick(() => {
                window.Telegram.WebApp.close(); // می‌بندد اپلیکیشن وب تلگرام
            });
        });

        // این رویداد برای پنهان کردن دکمه برگشت در ابتدا است
        document.addEventListener('DOMContentLoaded', function () {
            window.Telegram.WebApp.BackButton.hide();
        });
    </script>
</body>
</html>
